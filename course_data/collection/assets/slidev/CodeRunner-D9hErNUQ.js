const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slidev/shiki-BfHH471J.js","assets/monaco/bundled-types-2Xa_cnJv.js","assets/modules/file-saver-C8QSpN-3.js","assets/modules/vue-3YMiDJOq.js","assets/monaco/bundled-types-FEs8XxWS.css","assets/modules/shiki-BMp7anr3.js","assets/modules/shiki-CozCpemh.css"])))=>i.map(i=>d[i]);
import{r as x,d as M,G as J,f as c,o as a,z as F,U as G,P as U,aN as q,S as K,D as W,ag as X,ah as Q,i as R,am as Y,g as A,t as $,X as y,F as b,aj as B,b as Z,n as ee,H as te,k as ne,e as se,w as re}from"../modules/vue-3YMiDJOq.js";import{l as oe,_ as P,k as ie,n as C}from"../monaco/bundled-types-2Xa_cnJv.js";import{a as ae,a8 as ce}from"../index-BXWI12ic.js";import{u as le}from"./context-ByFLbSBP.js";import{_ as ue}from"./IconButton.vue_vue_type_script_setup_true_lang-CPRLdX1y.js";import"../modules/file-saver-C8QSpN-3.js";import"../modules/shiki-BMp7anr3.js";function de(s){const t=s.next();return`{ value: ${t.value}, done: ${t.done} }`}function*pe(s,t){for(let n=s;n<=t;n++)yield n}class T{constructor(t){this.name=t}}class me{constructor(t,n){this.name=t,this.students=n}}class N{constructor(t,n){this.student=t,this.value=n}}const V=["Sheldon","Leonard","Howard","Raj"],I=["Penny","Amy","Bernadette"],D=V.concat(I),H=D.map(s=>new T(s)),fe=[["Sheldon",5],["Leonard",4],["Howard",4],["Raj",3]].map(s=>{const t=s[0],n=H.find(d=>d.name===t);return n?new N(n,s[1]):null}),he=[{name:"Laptop",price:1e3,category:"electronics"},{name:"Book",price:20,category:"education"},{name:"Phone",price:500,category:"electronics"},{name:"Pen",price:2,category:"office"}],_e=Object.freeze(Object.defineProperty({__proto__:null,Grade:N,Group:me,Student:T,boys:V,girls:I,grades:fe,next_print:de,numberGenerator:pe,products:he,students:H,students_names:D},Symbol.toStringTag,{value:"Module"})),L={"./preload.ts":_e},ve=[],ge=oe(async()=>{const s={javascript:j,js:j,typescript:j,ts:j},{getHighlighter:t}=await P(async()=>{const{getHighlighter:i}=await import("./shiki-BfHH471J.js");return{getHighlighter:i}},__vite__mapDeps([0,1,2,3,4,5,6])),n=await t(),d=async(i,p,l)=>{try{const u=s[p];if(!u)throw new Error(`Runner for language "${p}" not found`);return await u(i,{options:l,highlight:n,run:async(e,r)=>await d(e,r,l)})}catch(u){return console.error(u),{error:`${u}`}}};for(const i of ve){const p=await i(s);Object.assign(s,p)}return{highlight:n,run:d}});function ye(s){const t=x([]),n=e=>t.value.push({error:String(e)}),d=(...e)=>t.value.push(e.map(p)),i=Object.assign({},console);i.info=i.log=i.debug=i.warn=i.error=d,i.clear=()=>t.value.length=0;try{const e=`return async (console, __slidev_import, __slidev_on_error) => {
      try {
        ${u(s)}
      } catch (e) {
        __slidev_on_error(e)
      }
    }`;new Function(e)()(i,r=>{const o=L[r];if(!o)throw new Error(`Module not found: ${r}.
Available modules: ${Object.keys(L).join(", ")}. Please refer to https://sli.dev/custom/config-code-runners#additional-runner-dependencies`);return o},n)}catch(e){n(e)}function p(e){return typeof e=="string"?{text:e}:{text:l(e),highlightLang:"javascript"}}function l(e){let r="";if(e instanceof Error)r=`Error: ${JSON.stringify(e.message)}`;else if(e==null||typeof e=="symbol")r=String(e);else if(Array.isArray(e))r=`[${e.map(l).join(", ")}]`;else if(e instanceof Set){const o=[...e];r=`Set (${e.size}) {${o.map(l).join(", ")}}`}else if(e instanceof Map){const o=[...e.entries()];r=`Map (${e.size}) {${o.map(([m,_])=>`${l(m)} => ${l(_)}`).join(", ")}}`}else if(e instanceof RegExp)r=e.toString();else if(typeof e=="string")r=JSON.stringify(e);else if(typeof e=="object"){const o=e.constructor?.name??"",m=o&&o==="Object"?"":o;r=(m?`${m}: `:"")+JSON.stringify(e,(v,g)=>g===void 0?"__undefined__":g,2).replace(/"__undefined__"/g,"undefined"),r=String(r)}else r=String(e);return r}function u(e){return e=e.replace('import "reflect-metadata"',"").replace('require("reflect-metadata")',""),e=e.replace("export {};",""),e}return t}let k;async function j(s){k??=await P(()=>import("../monaco/bundled-types-2Xa_cnJv.js").then(n=>n.t),__vite__mapDeps([1,2,3,4])),s=k.transpileModule(s,{compilerOptions:{module:k.ModuleKind.ESNext,target:k.ScriptTarget.ES2022},transformers:{after:[xe]}}).outputText;const t=/import\s*\((.+)\)/g;return s=s.replace(t,(n,d)=>`__slidev_import(${d})`),ye(s)}function xe(s){const{factory:t}=s,{isImportDeclaration:n,isNamedImports:d,NodeFlags:i}=k;return p=>{const l=[...p.statements];for(let u=0;u<l.length;u++){const e=l[u];if(!n(e))continue;let r;const o=e.importClause?.namedBindings,m=[];if(e.importClause?.name&&m.push(t.createBindingElement(void 0,t.createIdentifier("default"),e.importClause.name)),o)if(d(o)){for(const v of o.elements)m.push(t.createBindingElement(void 0,v.propertyName,v.name));r=t.createObjectBindingPattern(m)}else r=t.createIdentifier(o.name.text);else r=t.createObjectBindingPattern(m);const _=t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(r,void 0,void 0,t.createAwaitExpression(t.createCallExpression(t.createIdentifier("import"),void 0,[e.moduleSpecifier])))],i.Const));l[u]=_}return t.updateSourceFile(p,l)}}const we=M({__name:"DomElement",props:{element:{}},setup(s){const t=s,n=x();return J(()=>{n.value&&n.value.appendChild(t.element)}),(d,i)=>(a(),c("div",{ref_key:"container",ref:n},null,512))}}),Se={key:0,class:"text-sm text-center opacity-50"},be={key:1,class:"text-sm text-center opacity-50"},ke={key:2,class:"text-sm text-center opacity-50"},je=["innerHTML"],Oe={key:1,class:"text-red-500"},$e={key:3,class:"output-line"},Ce=["innerHTML"],Ee={key:2,class:"separator"},Re={key:0,class:"absolute right-1 top-1 max-h-full flex gap-1"},Ve=M({__name:"CodeRunner",props:{modelValue:{},lang:{},autorun:{type:[Boolean,String]},height:{},showOutputAt:{type:[null,Boolean,String,Number,Array]},highlightOutput:{type:Boolean},runnerOptions:{}},emits:["update:modelValue"],setup(s,{emit:t}){const n=s,d=t,{isPrintMode:i}=ae(),p=X(n,"modelValue",d),{$renderContext:l,$clicksContext:u}=le(),e=F(()=>!["slide","presenter"].includes(l.value)),r=i.value?"once":n.autorun,o=x(r),m=G(),_=x(0),v=x(),g=x(n.showOutputAt);if(n.showOutputAt){const w=ce();U(()=>{const h=u.calculate(n.showOutputAt);h?(u.register(w,h),q(()=>{g.value=!h.isActive.value})):g.value=!1}),K(()=>u.unregister(w))}const O=ie(200,async()=>{if(e.value)return;const{highlight:w,run:h}=await ge();v.value=w;const f=setTimeout(()=>{o.value=!0},500);m.value=await h(p.value,n.lang,n.runnerOptions??{}),_.value+=1,o.value=!1,clearTimeout(f)});return r==="once"?O():r&&W(p,O,{immediate:!0}),(w,h)=>(a(),c(b,null,[Q(A("div",{class:"relative flex flex-col rounded-b border-t border-main",style:ne({height:n.height}),"data-waitfor":".slidev-runner-output"},[e.value?(a(),c("div",Se,' Code is disabled in the "'+$(y(l))+'" mode ',1)):o.value?(a(),c("div",be," Running... ")):m.value?(a(),c("div",{key:`run-${_.value}`,class:"slidev-runner-output"},[(a(!0),c(b,null,B(y(C)(te(m.value)),(f,z)=>(a(),c(b,{key:z},["html"in f?(a(),c("div",{key:0,innerHTML:f.html},null,8,je)):"error"in f?(a(),c("div",Oe,$(f.error),1)):"element"in f?(a(),Z(we,{key:2,element:f.element},null,8,["element"])):(a(),c("div",$e,[(a(!0),c(b,null,B(y(C)(f),(S,E)=>(a(),c(b,{key:E},[S.highlightLang&&v.value?(a(),c("span",{key:0,class:"highlighted",innerHTML:v.value(S.text,S.highlightLang)},null,8,Ce)):(a(),c("span",{key:1,class:ee(S.class)},$(S.text),3)),E<y(C)(f).length-1?(a(),c("span",Ee,",")):R("v-if",!0)],64))),128))]))],64))),128))])):(a(),c("div",ke," Click the play button to run the code "))],4),[[Y,!g.value]]),y(p).trim()?(a(),c("div",Re,[se(ue,{class:"w-8 h-8 max-h-full flex justify-center items-center",title:"Run code",onClick:y(O)},{default:re(()=>[...h[0]||(h[0]=[A("div",{class:"i-carbon:play"},null,-1)])]),_:1},8,["onClick"])])):R("v-if",!0)],64))}});export{Ve as default};
